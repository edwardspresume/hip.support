---
import { localizePath } from 'astro-i18next';
import { ensureTrailingSlash } from '../util';

import { t } from 'i18next';
import SocialMediaDiv from './SocialMediaDiv.astro';
---

<footer class='site_footer'>
    <div class='container'>
        <p>
            {t('footer:contact_text')}
            <a href='tel:+1917-741-2012'>917-741-2012</a>
        </p>

        <SocialMediaDiv />

        <p class='copyright_text'>
            &copy; <var id='year'></var>

            {t('footer:copyright_text')}
        </p>

        <p>
            <a href={ensureTrailingSlash(localizePath('/tos/'))}>
                {t('footer:tos_link_text')}
            </a>
        </p>
    </div>
</footer>

<style lang='scss'>
    @use '/src/scss/abstracts/' as *;

    .site_footer {
        color: #fff;
        text-align: center;
        padding: 3rem 0rem;
        background: $primary_color;

        p {
            font-size: 1.5rem;
        }

        p:not(:last-of-type) {
            margin-bottom: 1.3rem;
        }

        a {
            color: $light_blue;
        }

        .copyright_text {
            margin-top: 1.3rem;
        }
    }

    .site_footer :global(.social_media_link) {
        width: 1.7rem;

        &:hover {
            color: $light_blue;
        }
    }
</style>

<script>
    const current_year = document.getElementById('year') as HTMLElement;

    current_year.textContent = new Date().getFullYear().toString();
</script>
